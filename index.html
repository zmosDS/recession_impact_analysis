<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recession Impact Analysis</title>

    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/+esm" type="module"></script>
</head>
<body>

    <!-- ===================================================== -->
    <!-- PAGE HEADER -->
    <!-- ===================================================== -->

    <div class="page-header">
        Final Project · Team Smooth JAZ · 
        <a href="writeup.html" class="header-link">Write-up</a>
    </div>

<!-- ===================================================== -->
<!-- SLIDESHOW FRAME CONTAINER                             -->
<!-- ===================================================== -->

<div id="frame-container">

    <!-- ============================== -->
    <!-- FRAME 0 — Title Slide          -->
    <!-- ============================== -->
    <div class="frame" data-frame="0">
        <div class="title-slide">

            <h1 class="main-title">The Hidden Shape of Recessions</h1>

            <p class="subtitle">
                Industry Declines & Recoveries<br>1995–2024
            </p>

            <button id="start-exploring">Start Exploring →</button>

        </div>
    </div>


    <!-- ============================== -->
    <!-- FRAME 1 — AND #1               -->
    <!-- ============================== -->
    <div class="frame" data-frame="1">
        <h2 class="story-heading">AND: Recessions leave a mark on all of us.</h2>
        <p class="story-text">
            Recessions appear as sudden dips in total employment, and most readers have lived through at least one. 
            These events are shared, memorable disruptions.
        </p>

        <div class="frame1-layout">

            <!-- LEFT: YoY chart -->
            <div class="frame1-chart">
                <div id="yoy-chart"></div>
                <div id="tooltip" class="tooltip" style="opacity:0;"></div>
            </div>

            <!-- RIGHT: Prompt + buttons -->
            <div class="frame1-sidebar">
                <div class="story-prompt">
                    <p><strong>Which recession do you remember most?</strong></p>
                    <div class="choice-row" id="recession-choice">
                        <button data-rec="2001">2001</button>
                        <button data-rec="2008">2008</button>
                        <button data-rec="2020">2020</button>
                    </div>
                    
                    <div id="rec-info-box" class="rec-info-box"></div>
                </div>
            </div>

        </div>
    </div>

    <!-- ============================== -->
    <!-- FRAME 2 — BUT #1 (Recession Profile) -->
    <!-- ============================== -->
    <div class="frame" data-frame="2">
        <h2 class="story-heading">BUT: No two recessions behave the same.</h2>
        <p class="story-text">
            The recessions of 2001, 2008, and 2020 were caused by different shocks and produced 
            different patterns of job loss. Some were slow burns; others were sudden free-falls.
        </p>

        <p class="story-prompt">
            <strong>Which recession period do you want to select?</strong>
        </p>

        <div class="choice-row" id="recession-period-choice">
            <button data-rec="2001">2001</button>
            <button data-rec="2008">2008</button>
            <button data-rec="2020">2020</button>
        </div>

        <div id="recession-profile-viz" class="viz-placeholder"></div>
    </div>

    <!-- ============================== -->
    <!-- FRAME 3 — AND #2               -->
    <!-- ============================== -->
    <div class="frame" data-frame="3">
        <h2 class="story-heading">AND: The economy is made of many industries.</h2>
        <p class="story-text">
            Behind the big national trend are dozens of industries, each with its own employment cycle.
        </p>

        <p class="story-prompt">
            <strong>Which industry is closest to yours?</strong>
        </p>

        <div id="industry-grid" class="industry-grid">

            <!-- Durable Goods -->
            <button class="industry-btn" data-sector="Durable Goods">
                <svg viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
                <path d="M10 2 L14 2 L15 6 L9 6 Z" />
                <path d="M9 6 L5 12 L9 12 L9 22 L15 22 L15 12 L19 12 L15 6" />
                </svg>
                <span>Durable Goods</span>
            </button>

            <!-- Professional Services -->
            <button class="industry-btn" data-sector="Professional Services">
                <svg viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
                <rect x="3" y="7" width="18" height="14" rx="2"/>
                <path d="M9 7 V5 a2 2 0 0 1 2-2 h2 a2 2 0 0 1 2 2 v2" />
                <path d="M3 12 h18" />
                </svg>
                <span>Professional Services</span>
            </button>

            <!-- Nondurable Goods -->
            <button class="industry-btn" data-sector="Nondurable Goods">
                <svg viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
                <path d="M3 7 l9-4 l9 4 v10 l-9 4 l-9-4 z" />
                <path d="M12 3 v18" />
                </svg>
                <span>Nondurable Goods</span>
            </button>

            <!-- Retail Trade -->
            <button class="industry-btn" data-sector="Retail Trade">
                <svg viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
                <path d="M3 10 h18 l-1-5 h-16 z" />
                <path d="M4 10 v10 h16 v-10" />
                <rect x="9" y="14" width="6" height="6" />
                </svg>
                <span>Retail Trade</span>
            </button>

            <!-- Private Education & Health -->
            <button class="industry-btn" data-sector="Private Education and Health Services">
                <svg viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
                <path d="M4 4 h10 a3 3 0 0 1 3 3 v13 l-5-2 l-5 2 v-16 a3 3 0 0 1 3-3" />
                <path d="M17 5 v4 m-2-2 h4" />
                </svg>
                <span>Education & Health</span>
            </button>

            <!-- Financial Activities -->
            <button class="industry-btn" data-sector="Financial Activities">
                <svg viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
                <rect x="4" y="12" width="3" height="8"/>
                <rect x="10" y="8" width="3" height="12"/>
                <rect x="16" y="4" width="3" height="16"/>
                <path d="M3 20 h18" />
                </svg>
                <span>Financial Activities</span>
            </button>

            <!-- Wholesale Trade -->
            <button class="industry-btn" data-sector="Wholesale Trade">
                <svg viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
                <path d="M3 10 L12 4 L21 10 v10 h-18 z" />
                <rect x="7" y="14" width="4" height="6" />
                <rect x="13" y="14" width="4" height="6" />
                </svg>
                <span>Wholesale Trade</span>
            </button>

            <!-- Construction -->
            <button class="industry-btn" data-sector="Construction">
                <svg viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
                <path d="M4 18 a8 8 0 0 1 16 0" />
                <path d="M6 18 v-2 a6 6 0 0 1 12 0 v2" />
                <path d="M12 6 v4" />
                </svg>
                <span>Construction</span>
            </button>

            <!-- Other Services -->
            <button class="industry-btn" data-sector="Other Services">
                <svg viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
                <circle cx="12" cy="12" r="3" />
                <path d="M12 2 v3 M12 19 v3 M4.2 4.2 l2.1 2.1 M17.7 17.7 l2.1 2.1 
                   M2 12 h3 M19 12 h3 M4.2 19.8 l2.1-2.1 M17.7 6.3 l2.1-2.1" />
                </svg>
                <span>Other Services</span>
            </button>

            <!-- Leisure & Hospitality -->
            <button class="industry-btn" data-sector="Leisure and Hospitality">
                <svg viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
                <path d="M3 4 h18 l-9 8 z" />
                <path d="M12 12 v7" />
                <path d="M9 21 h6" />
                </svg>
                <span>Leisure & Hospitality</span>
            </button>

            <!-- Transportation & Warehousing -->
            <button class="industry-btn" data-sector="Transportation and Warehousing">
                <svg viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
                <rect x="1" y="7" width="12" height="8" />
                <path d="M13 10 h4 l3 3 v2 h-7" />
                <circle cx="6" cy="17" r="2" />
                <circle cx="17" cy="17" r="2" />
                </svg>
                <span>Transportation & Warehousing</span>
            </button>

            <!-- Information -->
            <button class="industry-btn" data-sector="Information">
                <svg viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
                <circle cx="12" cy="12" r="8" />
                <path d="M4 12 h16" />
                <path d="M12 4 a16 16 0 0 1 0 16" />
                <path d="M12 4 a16 16 0 0 0 0 16" />
                </svg>
                <span>Information</span>
            </button>

            <!-- Mining & Logging -->
            <button class="industry-btn" data-sector="Mining and Logging">
                <svg viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
                <path d="M3 7 L10 4 L11 6 L4 9 Z" />
                <path d="M21 7 L14 4 L13 6 L20 9 Z" />
                <path d="M12 6 v14" />
                </svg>
                <span>Mining & Logging</span>
            </button>

            <!-- Government -->
            <button class="industry-btn" data-sector="Government">
                <svg viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
                <path d="M12 3 v3" />
                <path d="M6 10 a6 4 0 0 1 12 0" />
                <path d="M4 15 h16 v5 h-16 z" />
                </svg>
                <span>Government</span>
            </button>

            <!-- Utilities -->
            <button class="industry-btn" data-sector="Utilities">
                <svg viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
                <path d="M7 2 h10 l-2 6 h-6 z" />
                <path d="M9 8 L5 22 M15 8 L19 22" />
                <path d="M8 14 h8" />
                </svg>
                <span>Utilities</span>
            </button>

        </div>


    </div>

    <!-- ============================== -->
    <!-- FRAME 4 — BUT #2               -->
    <!-- ============================== -->
    <div class="frame" data-frame="4">
        <h2 class="story-heading">BUT: Industries experience recessions differently.</h2>
        <p class="story-text">
            Your chosen industry may have collapsed in one recession, boomed through another, 
            or struggled to bounce back. Its story isn’t the same as the broader economy.
        </p>

        <!-- TEMPORARY STATIC VIZ FOR DEMO -->
        <img src="data/frame_4_static.png" alt="industry visualization" class="static-viz" />

    </div>

    <!-- ============================== -->
    <!-- FRAME 5 — THEN                 -->
    <!-- ============================== -->
    <div class="frame" data-frame="5">
        <h2 class="story-heading">THEN: Recovery reshapes industries.</h2>
        <p class="story-text">
            After each recession ends, industries settle into new trajectories. 
            Some reinvent themselves and grow beyond pre-recession levels; 
            others stabilize lower.
        </p>

        <img src="data/frame_5_static.png" alt="recovery visualization" class="static-viz" />

        <p class="personal-takeaway" id="personal-takeaway"></p>
    </div>

    <!-- ============================== -->
    <!-- FRAME 6 — Personalized Wrap-up -->
    <!-- ============================== -->
    <div class="frame" data-frame="6">
        <h2 class="story-heading">Your Industry's Story</h2>

        <p class="story-text">
            Every recession leaves a different mark — and the path your industry takes afterward 
            depends on the people, technologies, and choices that shape it.
        </p>

                    <!-- Buttons for Recovery Period -->
            <p class="story-prompt">
                <strong>Which recession recovery period do you want to see?</strong>
            </p>
            <div class="choice-row" id="recovery-choice">
                <button data-rec="2001">2001</button>
                <button data-rec="2008">2008</button>
                <button data-rec="2020">2020</button>
            </div>

        <p class="personal-takeaway" id="final-personal-takeaway"></p>

        <div id="final-viz" class="viz-placeholder"></div>

        <div class="wrap-up-controls">
            <p class="wrap-up-question"><strong>Would you like to explore another industry?</strong></p>
            <button id="restart-button">Choose Another Industry</button>
        </div>
    </div>

</div> <!-- end frame-container -->

<!-- ===================================================== -->
<!-- NAVIGATION CONTROLS                                   -->
<!-- ===================================================== -->

<div id="controls">

    <div id="dots">
        <span class="dot" data-dot="0"></span>
        <span class="dot" data-dot="1"></span>
        <span class="dot" data-dot="2"></span>
        <span class="dot" data-dot="3"></span>
        <span class="dot" data-dot="4"></span>
        <span class="dot" data-dot="5"></span>
        <span class="dot" data-dot="6"></span>
    </div>

    <button id="next">Next →</button>
</div>


    <!-- ===================================================== -->
    <!-- SCRIPTS                                               -->
    <!-- ===================================================== -->

    <!-- Visualization Logic-->
    <script type="module" src="visualization.js"></script>

    <!-- Slideshow controller -->
    <script src="slideshow.js"></script>

</body>
</html>